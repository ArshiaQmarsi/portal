"use strict";(self.webpackChunkkdz_portal=self.webpackChunkkdz_portal||[]).push([[592],{2281:(d,c,n)=>{n.d(c,{m:()=>t});var t=(()=>{return(e=t||(t={}))[e.projectBase=1]="projectBase",e[e.Janbi=2]="Janbi",e[e.Asli=3]="Asli",t;var e})()},3472:(d,c,n)=>{n.d(c,{W:()=>_});var t=n(4650),e=n(6895),p=n(4859);let _=(()=>{class i{constructor(a){this._locationService=a}ngOnInit(){}onBackClick(){this._locationService.back()}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(e.Location))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["app-back-button"]],decls:2,vars:0,consts:[["mat-raised-button","","type","button",3,"click"]],template:function(a,r){1&a&&(t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275listener("click",function(){return r.onBackClick()}),t.\u0275\u0275text(1,"\u0628\u0631\u06af\u0634\u062a"),t.\u0275\u0275elementEnd())},dependencies:[p.lW],styles:["button[_ngcontent-%COMP%]{width:100%}"]}),i})()},5352:(d,c,n)=>{n.d(c,{s:()=>s});var t=n(2340),e=n(4650),p=n(1305),_=n(4982),i=n(9078);let s=(()=>{class a{constructor(o,l){this._lightbox=o,this._uploadService=l,this.maxSize=100,this.isUploading=!1}ngOnChanges(o){this.src=t.N.url+"/api/v1/files/show/"+this.lastImageid}onSelectedFile(o){const l=o.target.files[0];this.isUploading=!0,this._uploadService.uploadFile(l,this.fileType,this.eventType).subscribe(m=>{this.fbContorl.setValue(m.entity.fileId),this.isUploading=!1,this.src=t.N.url+"/api/v1/files/show/"+this.fbContorl.value},()=>{this.isUploading=!1})}onOpenImage(o){this._lightbox.open([{src:o.target.src,thumb:""}])}}return a.\u0275fac=function(o){return new(o||a)(e.\u0275\u0275directiveInject(p.ey),e.\u0275\u0275directiveInject(_.C))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-legecy-image-uploader"]],inputs:{maxSize:"maxSize",accept:"accept",fbContorl:"fbContorl",label:"label",lastImageid:"lastImageid",fileType:"fileType",eventType:"eventType"},features:[e.\u0275\u0275NgOnChangesFeature],decls:4,vars:4,consts:[[1,"upload-btn-wrapper",3,"largeLoading"],[3,"textContent"],["type","file","name","myfile",3,"accept","change"],["onError","this.src= 'https://file.behroozbc.ir/no_logo.png'","alt","",3,"src","click"]],template:function(o,l){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"label",1),e.\u0275\u0275elementStart(2,"input",2),e.\u0275\u0275listener("change",function(u){return l.onSelectedFile(u)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"img",3),e.\u0275\u0275listener("click",function(u){return l.onOpenImage(u)}),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275property("largeLoading",l.isUploading),e.\u0275\u0275advance(1),e.\u0275\u0275property("textContent",l.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("accept",l.accept),e.\u0275\u0275advance(1),e.\u0275\u0275property("src",l.src,e.\u0275\u0275sanitizeUrl))},dependencies:[i.M],styles:["img[_ngcontent-%COMP%]{display:inline;max-width:3rem;float:left}div[_ngcontent-%COMP%]{display:inline}"]}),a})()}}]);